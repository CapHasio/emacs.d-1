#!/bin/sh
# -*- mode: emacs-lisp; -*-
F=/tmp/$(echo $0 | sed 's|/|!|g') &&
    tail -n +7 "$0" > "$F" &&
    exec emacs -Q --script "$F" -- "$@"

;;; hello --- A "Hello World!" program in Emacs Script -*- lexical-binding: t; -*-

(message "Evaling %s..." load-file-name)

(message "Hello world!")

(message "$F is %s" (getenv "F"))

;; Command Line Arguments
(message "Arguments: %S" argv)
(setq argv nil)

;; Lexical Binding
(message "lexical-binding: %s" lexical-binding)
(let ((fn (let ((s "Lexical Binding is working!"))
            (lambda ()
              (message s)))))
  (funcall fn))

;;; hello ends here
